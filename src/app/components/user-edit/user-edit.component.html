<app-navbar></app-navbar>

<div class="container dark-background">
  <div class="spinner" *ngIf="!user">
    <mat-spinner></mat-spinner>
  </div>
  <mat-card *ngIf="!userFound">
    <a class="logo-wrapper" href="/">
      <img class="logo"  height="70"  src="/assets/home-page-154.png" alt="Mindcodia" />
    </a>
    <mat-card-title>{{"User not found"}}</mat-card-title>
    <mat-card-content  style="text-align: center">
      <div>
        <p>The user you're looking for doesn't exist.</p>
      </div>
      <button mat-flat-button class="submit-btn" (click)="this.router.navigate(['/'])" color="primary">Back to Home</button>
    </mat-card-content>
  </mat-card>
  <mat-card *ngIf="userFound">
    <mat-card-title style="margin-bottom: 20px">Edit User!</mat-card-title>
    <mat-card-content>
      <form [formGroup]="editForm" (ngSubmit)="submit()">
        <mat-form-field appearance="fill" class="quiz-form__field">
          <mat-label>User Name</mat-label>
          <input matInput formControlName="name" required>
        </mat-form-field>
        <mat-form-field [hidden]="!isAdmin && currentUser"  appearance="fill" class="quiz-form__field">
          <mat-label>Attempts</mat-label>
          <input matInput formControlName="attempts">
        </mat-form-field>
        <mat-divider style="margin-bottom: 20px"></mat-divider>
        <mat-checkbox [hidden]="!isAdmin && currentUser" color="primary" [checked]="user?.isPaid" formControlName="isPaid">
          Is Paid User ?
        </mat-checkbox>
        <mat-divider style="margin-bottom: 20px"></mat-divider>
        <mat-checkbox [hidden]="!isAdmin && currentUser" color="primary" [checked]="user?.isAdmin" formControlName="isAdmin">
          Is Admin ?
        </mat-checkbox>

        <div class="submit-wrapper">
          <button mat-flat-button color="accent" type="submit">
            <i-bs width="25" height="25" name="check2-circle"></i-bs>
            Save changes
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>

</div>
